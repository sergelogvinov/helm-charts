{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    "docker:enableMajor",
    ":timezone(Europe/Tallinn)",
    ":dependencyDashboard",
    ":disableRateLimiting",
    ":semanticCommits",
    ":semanticCommitScopeDisabled",
    "github>sergelogvinov/helm-charts//.github/renovate/customManagers.json5",
    "github>sergelogvinov/helm-charts//.github/renovate/semanticCommits.json5",
    // "github>sergelogvinov/helm-charts//.github/renovate/groups.json5"
  ],
  "dependencyDashboard": true,
  "dependencyDashboardTitle": "Renovate Dashboard",
  "prHeader": "Update Request | Renovate Bot",
  "suppressNotifications": [
    "prEditedNotification",
    "prIgnoreNotification"
  ],
  "separateMajorMinor": true,
  "separateMultipleMajor": true,
  "rebaseWhen": "conflicted",
  "ignorePaths": [],
  "packageRules": [
    {
      "matchManagers": [
        "helm-values",
        "dockerfile",
        "regex"
      ],
      "groupName": "{{depName}}"
    },
    {
      "description": "Bump helm chart versions by a patch when updating values files. Digests, pins, rollbacks, replacements and pinDigest updates are deliberately ignored since in our use case, these need a manual decision about the version bump for the chart. This can be removed when https://github.com/renovatebot/renovate/issues/8231 is implemented and enabled.",
      "matchManagers": [
        "helm-values"
      ],
      "postUpgradeTasks": {
        "commands": [
          "./hack/bump-chart-version.sh '{{{parentDir}}}' '{{{isMajor}}}' '{{{isMinor}}}' '{{{isPatch}}}'"
        ],
        "fileFilters": [
          "**/Chart.yaml"
        ],
        "executionMode": "branch"
      }
    }
  ],
  "helm-values": {
    "fileMatch": [
      "(^|/)values.yaml$"
    ]
  }
}